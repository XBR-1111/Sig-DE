# 7.12 笔记

## 实验A4 输入特征的时间范围

### 目的

增加输入特征在时间上的维度。

### 小数据集上的结果

等权情况

| ew(num_feat_timestamps) | APR(+)     | AVOL(-)   | ASR(+)     | MDD(-)    | CR(+)      | DDR(+)     |
| ----------------------- | ---------- | --------- | ---------- | --------- | ---------- | ---------- |
| A4(3)                   | -0.049     | 0.182     | -0.246     | **0.978** | -0.046     | -1.29      |
| A4(2)                   | **-0.013** | 0.182     | **-0.072** | 4.490     | **-0.003** | **-0.397** |
| A4(1)                   | -0.025     | **0.164** | -0.155     | 1458.65   | -1.74      | -0.821     |

sigmoid情况

| sigmoid(num_feat_timestamps) | APR(+)    | AVOL(-)   | ASR(+)    | MDD(-)    | CR(+)     | DDR(+)    |
| ---------------------------- | --------- | --------- | --------- | --------- | --------- | --------- |
| A4(3)                        | 0.073     | 0.221     | 0.330     | 0.857     | 0.085     | 1.941     |
| A4(2)                        | 0.102     | 0.212     | 0.482     | 21.908    | 0.005     | 2.979     |
| A4(1)                        | **0.177** | **0.199** | **0.888** | **0.714** | **0.247** | **6.295** |

可以发现随着输入维度的提升，效果反而会下降。其中2个月效果较好，于是决定在完整数据集上实验。

### 大数据集上的结果

等权情况

| ew(窗口大小) | APR(+)    | AVOL(-)   | ASR(+)    | MDD(-)    | CR(+)     | DDR(+)    |
| ------------ | --------- | --------- | --------- | --------- | --------- | --------- |
| A3(5)        | 0.191     | 0.313     | 0.611     | 0.910     | 0.210     | 3.515     |
| A3(10)       | 0.227     | 0.312     | 0.727     | 0.893     | 0.254     | 4.322     |
| A3(20)       | 0.222     | 0.308     | 0.722     | 0.895     | 0.248     | 4.351     |
| A3(30)       | 0.219     | **0.307** | 0.714     | 0.896     | 0.245     | 4.247     |
| A3(infty)    | **0.233** | 0.309     | **0.756** | **0.890** | **0.262** | **4.543** |

sigmoid情况

| sigmoid(窗口大小) | APR(+)    | AVOL(-)   | ASR(+)    | MDD(-)    | CR(+)     | DDR(+)    |
| ----------------- | --------- | --------- | --------- | --------- | --------- | --------- |
| A3(5)             | 0.119     | 0.296     | 0.403     | **5.959** | 0.020     | 2.214     |
| A3(10)            | 0.131     | 0.308     | 0.426     | 6.982     | 0.019     | 2.349     |
| A3(20)            | **0.160** | **0.293** | **0.546** | 7.594     | 0.021     | **3.256** |
| A3(30)            | 0.150     | 0.296     | 0.508     | 6.593     | **0.023** | 2.845     |
| A3(infty)         | 0.152     | 0.306     | 0.498     | 66.626    | 0.002     | 2.885     |

